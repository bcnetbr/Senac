CREATE DATABASE DeComCity;

CREATE TABLE pais (id SERIAL NOT NULL PRIMARY KEY, nome VARCHAR (30) NOT NULL);

CREATE TABLE estado (id SERIAL NOT NULL PRIMARY KEY, sigla CHAR (2) NOT NULL,
		 id_pais INT NOT NULL,
		FOREIGN KEY (id_pais) REFERENCES pais (id));

CREATE TABLE cidade (id SERIAL NOT NULL PRIMARY KEY, nome VARCHAR (30) NOT NULL,
		 id_estado INT NOT NULL,
		FOREIGN KEY (id_estado) REFERENCES estado (id));

CREATE TABLE bairro (id SERIAL NOT NULL PRIMARY KEY, nome VARCHAR (80) NOT NULL, qtd_habitantes INT,
		 id_cidade INT NOT NULL,
		FOREIGN KEY (id_cidade) REFERENCES cidade (id));

CREATE TABLE necessidades (id SERIAL NOT NULL PRIMARY KEY, tipos VARCHAR (50) NOT NULL);

CREATE TABLE usuario (id SERIAL NOT NULL PRIMARY KEY, nome VARCHAR (50) NOT NULL, 
		cpf VARCHAR (14) NOT NULL,
 		tipo VARCHAR (15) NOT NULL, email VARCHAR (30) NOT NULL, data_nascimento DATE NOT NULL, senha varchar(12) NOT NULL);

CREATE TABLE necessidade_por_bairro (id SERIAL NOT NULL PRIMARY KEY,
				id_pais INT NOT NULL, id_estado INT NOT NULL, id_cidade INT NOT NULL,
				id_bairro INT NOT NULL, id_necessidade INT NOT NULL,
				obsevacao VARCHAR(255),
				FOREIGN KEY (id_pais) REFERENCES pais (id),
				FOREIGN KEY (id_estado) REFERENCES estado (id),
				FOREIGN KEY (id_cidade) REFERENCES cidade (id),
				FOREIGN KEY (id_bairro) REFERENCES bairro (id),
				FOREIGN KEY (id_necessidade) REFERENCES necessidades (id));

CREATE TABLE endereco_imovel (id SERIAL NOT NULL PRIMARY KEY, latitude VARCHAR (20) NOT NULL, 
			longitude	VARCHAR (20) NOT NULL);


			